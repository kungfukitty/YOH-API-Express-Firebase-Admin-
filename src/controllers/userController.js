import { getAdmin } from '../config/firebase.js';export async function me(req,res){res.json({ok:true,payload:req.user})}export async function myProfile(req,res){const db=getAdmin().firestore();const snap=await db.collection('users').doc(req.user.sub).get();res.json(snap.exists?snap.data():{email:req.user.email,membership:{}})}export async function myItineraries(req,res){const db=getAdmin().firestore();const q=await db.collection('user_itineraries').where('uid','==',req.user.sub).limit(1).get();const items=q.docs.map(d=>({id:d.id,...d.data()}));res.json({items})}export async function myPayments(req,res){const db=getAdmin().firestore();const q=await db.collection('payments').where('uid','==',req.user.sub).orderBy('createdAt','desc').get();const items=q.docs.map(d=>({id:d.id,...d.data()}));res.json({items})}