import { getAdmin } from '../config/firebase.js';export async function listRequests(req,res){const db=getAdmin().firestore();const status=(req.query.status||'pending').toLowerCase();const q=await db.collection('access_requests').where('status','==',status).get();res.json({items:q.docs.map(d=>({id:d.id,...d.data()}))})}export async function approveRequest(req,res){const db=getAdmin().firestore();const id=req.params.id;await db.collection('access_requests').doc(id).update({status:'approved',reviewedAt:getAdmin().firestore.FieldValue.serverTimestamp(),reviewedBy:req.user.sub});res.json({ok:true})}export async function declineRequest(req,res){const db=getAdmin().firestore();const id=req.params.id;await db.collection('access_requests').doc(id).update({status:'declined',reviewedAt:getAdmin().firestore.FieldValue.serverTimestamp(),reviewedBy:req.user.sub});res.json({ok:true})}